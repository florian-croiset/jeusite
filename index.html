<!DOCTYPE html>
<html lang="fr"><!-- Sortie de la version 1.3 -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="mobile.css">
</head>
<body>
    <div class="scroll-progress" id="scrollProgress"></div><div class="custom-cursor" id="customCursor"></div>
    <nav class="navbar">
        <div class="nav-container">
            <!--<div class="logo">Echo</div>-->
            <div class="logo-container"><div class="logo"><a href="#accueil" style="text-decoration:none;">Echo</a></div></div>
            <div class="burger" id="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="nav-links">
                <!--<li><a href="#accueil">Accueil</a></li>-->
                <li><a href="#team">Team Nightberry</a></li>
                <li><a href="#telecharger">T√©l√©charger le jeu</a></li>
                <li><a href="#install">Installer / d√©sinstaller le jeu</a></li>
                <li><a href="#gameplay">Gameplay</a></li>
                <li><a href="#lore">Lore</a></li><!--<li>Th√®me</li>-->
                <li><a href="diapo.html" class="btn-login">‚ñ∂ Diaporama</a></li>
            </ul>
        </div>
    </nav>
    <section class="hero"><!-- Accueil -->
        <video autoplay muted loop playsinline class="background-video"><source src="anim.mp4" type="video/mp4"><!-- texte fallback au cas o√π -->Votre navigateur ne supporte pas la lecture vid√©o.</video>
        <div class="arriere" id="accueil"></div> 
        <div class="particles" aria-hidden="true"></div>
        <div class="hero-content">
            <h1><span></span>Echo</h1>
            <p class="nav-links" style="gap:inherit!important; place-items: center; margin-left: 135px;"><span style="display: inline-block; text-align: center;">par la&nbsp;<a href="#team" style="font-size: 2rem;">Team Nightberry</a></span></p>
            <div class="countdown-section">
                <div class="countdown-title"><i class="fa-solid fa-rocket fa-beat" style ="animation-duration: var(--fa-animation-duration,3s)!important;"></i><!--üöÄ--> Lancement de la version b√™ta du jeu dans :</div>
                <div class="countdown-timer">
                    <div class="countdown-item">
                        <span class="countdown-value" id="days">0</span>
                        <span class="countdown-label">Jours</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="hours">0</span>
                        <span class="countdown-label">Heures</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="minutes">0</span>
                        <span class="countdown-label">Minutes</span>
                    </div>
                    <div class="countdown-item">
                        <span class="countdown-value" id="seconds">0</span>
                        <span class="countdown-label">Secondes</span>
                    </div>
                </div>
            </div>  
            <div class="cta-buttons">
                <a href="#telecharger" class="btn btn-primary"><i class="fa-solid fa-download"></i> T√©l√©charger le jeu</a>
                <a href="#gameplay" class="btn btn-secondary">D√©couvrir les fonctionnalit√©s</a>
            </div>
        </div>
    </section>
    <section id="team">
        <h2>Team Nightberry</h2>
        <div class="about-content">
            <div class="about-text">
                <p>Nous sommes la <strong>Team Nightberry</strong>, un groupe de cinq √©tudiants en informatique : <strong>Amaury Giraud-Laforet</strong>, <strong>Gaspard Sapin</strong>, <strong>Florian Croiset</strong>, <strong>Eric Sahakian</strong> et <strong>Jules Cohen</strong>.</p>
                <br><p>Chacun apporte ses comp√©tences dans des domaines cl√©s comme le <strong>game design</strong>, la <strong>programmation</strong>, le <strong>pixel-art</strong>, le <strong>level design</strong> ou encore la <strong>conception sonore</strong>.</p>
            </div>
            <div class="about-visual" style="overflow: hidden; background: rgba(102, 126, 234, 0.6); background-size:cover; background-position:center; background-image: url('arriere.png');"> </div>
        </div>
    </section>
    <section id="telecharger" class="features">
        <h2>T√©l√©charger</h2><div class="contact-form"><div class="cta-buttons" style="margin-top: 2rem;"><a href="#telecharger" class="btn btn-primary"><i class="fa-solid fa-download"></i> T√©l√©charger le jeu</a></div></div>
    </section>
    <section id="install" class="community">
        <h2>Installer le jeu en <strong>5 √©tapes</strong></h2><p style="font-size: 1.2rem; color: #b0b0b0; margin-bottom: 3rem;">1√®re √©tape : ___</p>
    </section>
    <section id="gameplay">
        <h2>Gameplay</h2><div class="contact-form"></div>
    </section>
    <section id="lore">
        <h2>Lore</h2>
        <div class="features-grid">
            <div class="feature-card"><div class="feature-icon">Pr√©sentation</div><br>Dans un futur o√π le monde est plong√© dans une obscurit√© totale, une guerre silencieuse fait rage entre ceux qui luttent pour la v√©rit√© et ceux qui profitent de cette nuit sans fin. "Kaelen : L'Ombre du Soleil" vous plonge dans une aventure intense, o√π vengeance et espoir s'entrelacent dans un combat contre une m√©gacorporation toute-puissante, Solaris. D√©couvrez l‚Äôhistoire de Kaelen, un ancien militaire qui se bat non seulement pour venger la mort de son fils, mais aussi pour lib√©rer l‚Äôhumanit√© d‚Äôune tyrannie technologique impitoyable.</div><!--üó∫Ô∏èüë•-->
        </div>
        <div class="features-grid">
            <div class="feature-card"><div class="feature-icon"><!--ü§ñ-->Acte I : Les Ombres de la Cit√©-D√¥me</div><br><span class="feature-text">L'histoire d√©bute dans les bas-fonds du Secteur 9, o√π Kaelen, ancien Nettoyeur, d√©couvre la planque de son fils Jonas d√©vast√©e et ce dernier ex√©cut√© par les forces de Solaris. En d√©couvrant un implant de donn√©es cach√©, Kaelen apprend que Jonas avait d√©couvert la v√©rit√© : le soleil brille toujours derri√®re le voile noir. Bris√©, mais d√©termin√©, Kaelen jure de venger son fils et de d√©voiler la v√©rit√© √† l'humanit√©.</span></div><!--üó∫Ô∏èüë•-->
            <div class="feature-card"><div class="feature-icon"><!--üìñ-->Acte II : La Travers√©e du Noir</div><br><span class="feature-text">Pour atteindre la Tour Z√©nith, le si√®ge de Solaris, Kaelen traverse la Zone Morte, une ville plong√©e dans l‚Äôobscurit√© o√π il doit faire face √† des cr√©atures terrifiantes, les Nocturnes, ainsi qu‚Äô√† un assassin implacable, le Capitaine Vex, responsable de la mort de Jonas. Alors qu'il rallie les lieutenants de Jonas, une alliance se forme et Kaelen prend d'assaut la ville, luttant pour atteindre son objectif tout en affrontant une menace double et omnipr√©sente.<!--<h3>-</h3><p>-</p>--></span></div>
            <div class="feature-card"><div class="feature-icon"><!--‚öôÔ∏è-->Acte III : La Lumi√®re Artificielle</div><!--<h3>-</h3><p>-</p>--><br><span class="feature-text">Dans la Ville Haute, Kaelen se fraye un chemin au c≈ìur du luxe et de la lumi√®re artificielle, sabordant les syst√®mes de s√©curit√© de Solaris tout en contournant les civils. Alors qu'il se rapproche du sommet de la tour, il affronte Vex dans un combat intense, utilisant l‚Äôobscurit√© pour triompher. Avant de mourir, Vex r√©v√®le que le PDG de Solaris d√©tient le code qui pourrait lib√©rer le monde de l'obscurit√©. Kaelen se pr√©pare √† l'ultime confrontation.</span></div>
            <div class="feature-card"><div class="feature-icon"><!--üîó-->Acte IV : Le Lever du Jour</div><!--<h3>-</h3><p>-</p>--><br><span class="feature-text">Au sommet de la Tour Z√©nith, Kaelen se retrouve face au PDG de Solaris, un homme qui a choisi de maintenir le voile noir pour conserver son pouvoir. Apr√®s avoir rejet√© une offre de collaboration, Kaelen active le virus de Jonas, ce qui d√©clenche un ultime combat pour survivre. Alors que le syst√®me de Solaris s'effondre, un rayon de soleil percera enfin le voile, marquant la victoire de Kaelen et le renouveau de l'espoir pour l'humanit√©.</span></div>
        </div>
    </section>
<footer>
  <p>&copy;‚ÄØ2025‚ÄØEcho.‚ÄØTous‚ÄØdroits‚ÄØr√©serv√©s‚ÄØ‚Ä¢‚ÄØ
    <span class="version-text">Version‚ÄØ1.3‚ÄØ¬∑‚ÄØBeta</span>
  </p>
</footer>
<button id="versionAccessBtn" class="btn-hidden-access" title="Acc√®s version">
  <i class="fa-solid fa-circle-dot"></i>
</button>
<!-- ===== BOUTONS FLOTTANTS ===== -->
<div class="floating-buttons">
  <button class="floating-btn btn-scroll-top" id="scrollTopBtn" title="Remonter en haut">
    <svg viewBox="0 0 24 24"><path d="M12 19V5M5 12l7-7 7 7"/></svg>
  </button>
  <button class="floating-btn btn-music" id="musicBtn" title="Lecture/Pause musique">
    <i class="fa-solid fa-music"></i>
  </button>
</div>

<!-- ===== AUDIO ===== -->
<audio id="backgroundMusic" src="musique.mp3" loop preload="auto"></audio>

<!-- ===== MODALE D‚ÄôACC√àS SECRET ===== -->
<div id="secretModal" class="secret-modal">
  <div class="secret-box"><h3><span id="copyLock" title="Copier le code secret" style="cursor:pointer;">üîí</span>&nbsp;Acc√®s‚ÄØrestreint</h3>
    <!--<h3>üîí‚ÄØAcc√®s‚ÄØrestreint</h3>-->
    <p>Entrez‚ÄØle‚ÄØcode‚ÄØd‚Äôacc√®s‚ÄØ:</p>
    <input type="password" id="secretInput" placeholder="Code..." />
    <div class="secret-actions">
      <button id="cancelSecret" class="btn-cancel">Annuler</button>
      <button id="confirmSecret" class="btn-confirm">Valider</button>
    </div>
  </div>
</div>
</body>
<script>
        // Curseur personnalis√© - FIX BUG
        const cursor = document.getElementById('customCursor');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;
        let isOverInteractive = false;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function animateCursor() {
            if (!isOverInteractive) {
                cursorX += (mouseX - cursorX) * 0.25;
                cursorY += (mouseY - cursorY) * 0.25;
                cursor.style.left = cursorX + 'px';
                cursor.style.top = cursorY + 'px';
            }
            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // Navbar r√©duite au scroll
        const navbar = document.querySelector('nav');

        window.addEventListener('scroll', () => {
            const currentScroll = window.pageYOffset;
            
            if (currentScroll > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Barre de progression de scroll
        window.addEventListener('scroll', () => {
            const scrollProgress = document.getElementById('scrollProgress');
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight - document.documentElement.clientHeight;
            const progress = (scrollTop / scrollHeight) * 100;
            scrollProgress.style.width = progress + '%';
        });

        // Effet parallaxe au mouvement de la souris
        document.addEventListener('mousemove', (e) => {
            const moveX = (e.clientX - window.innerWidth / 2) / 50;
            const moveY = (e.clientY - window.innerHeight / 2) / 50;
        });

        // D√©marrer les compteurs quand ils entrent dans l'√©cran avec d√©lais
        const statsObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && !entry.target.classList.contains('counted')) {
                    entry.target.classList.add('counted');
                    const statItems = entry.target.querySelectorAll('.stat-item');
                    statItems.forEach(item => {
                        const counter = item.querySelector('.stat-number');
                        const delay = parseInt(item.getAttribute('data-delay')) || 0;
                        animateCounter(counter, delay);
                    });
                }
            });
        }, { threshold: 0.3 });

        // Compte √† rebours
        const targetDate = new Date('2026-05-25T00:00:00').getTime();
        
        function updateCountdown() {
            const now = new Date().getTime();
            const distance = targetDate - now;

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById('days').textContent = days;
            document.getElementById('hours').textContent = hours;
            document.getElementById('minutes').textContent = minutes;
            document.getElementById('seconds').textContent = seconds;

            if (distance < 0) {
                document.querySelector('.countdown-timer').innerHTML = '<div class="countdown-item"><span class="countdown-value">üéâ</span><span class="countdown-label">Lanc√© !</span></div>';
            }
        }

        updateCountdown();
        setInterval(updateCountdown, 1000);

        // Bouton scroll to top
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 300) {
                scrollTopBtn.style.display = 'flex';
            } else {
                scrollTopBtn.style.display = 'none';
            }
        });

        scrollTopBtn.addEventListener('click', () => {
            if (isNavigating) return;
            
            isNavigating = true;
            document.documentElement.style.scrollSnapType = 'none';
            
            // Scroll avec easing (ralentissement progressif)
            const startPosition = window.scrollY;
            const startTime = performance.now();
            const duration = 2500; // Dur√©e totale en ms
            
            function easeInOutCubic(t) {
                return t < 0.5 
                    ? 4 * t * t * t 
                    : 1 - Math.pow(-2 * t + 2, 3) / 2;
            }
            
            function animateScroll(currentTime) {
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);
                const easing = easeInOutCubic(progress);
                
                window.scrollTo(0, startPosition * (1 - easing));
                
                if (progress < 1) {
                    requestAnimationFrame(animateScroll);
                } else {
                    setTimeout(() => {
                        isNavigating = false;
                        document.documentElement.style.scrollSnapType = 'y mandatory';
                    }, 1000);
                }
            }
            
            requestAnimationFrame(animateScroll);
        });

        // Animations au scroll des sections
        const sections = document.querySelectorAll('section');
        
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            if (!section.classList.contains('hero')) {
                observer.observe(section);
            }
        });

        // Masquer le bouton scroll au chargement
        scrollTopBtn.style.display = 'none';

        // Smooth scroll SIMPLE et FONCTIONNEL
        let isNavigating = false;

        function smoothScrollTo(target) {
            if (isNavigating) return;
            
            isNavigating = true;
            
            // D√©sactiver scroll-snap pendant la navigation
            document.documentElement.style.scrollSnapType = 'none';

            // Calculer la position en tenant compte de la navbar (60px de hauteur)
            const navbarHeight = 80;
            const targetPosition = target.offsetTop - navbarHeight;
            
            // Scroll plus lent et fluide
            window.scrollTo({
                top: targetPosition,
                behavior: 'smooth'
            });
            
            // R√©activer le scroll-snap apr√®s 3 secondes (plus long pour le scroll lent)
            setTimeout(() => {
                isNavigating = false;
                document.documentElement.style.scrollSnapType = 'y mandatory';
            }, 1000);// 3000
        }  

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    smoothScrollTo(target);
                }
            });
        });

        // D√©sactiver le clic droit
        document.addEventListener('contextmenu', function(event) {
            event.preventDefault();
        });




// BOUTON TELECHARGER //
// V√©rifier si l'√©cran est petit (mobile)
function estSurMobile() {
    return window.innerWidth <= 768; // largeur pour consid√©rer comme mobile
}

// BOUTON TELECHARGER //
const jeuDispo = false; // ‚Üê c

function appliquerDisponibiliteBouton(bouton) {
    if (!bouton) return;

    const infoSpan = document.createElement('span');
    infoSpan.style.position = 'absolute';
    infoSpan.style.bottom = '6px';
    infoSpan.style.left = '50%';
    infoSpan.style.transform = 'translateX(-50%)';
    infoSpan.style.fontSize = '0.65rem';
    infoSpan.style.opacity = '0.8';
    infoSpan.style.pointerEvents = 'none';
    infoSpan.style.fontWeight = 'normal';
    infoSpan.style.whiteSpace = 'nowrap';

    // Si sur mobile, on modifie directement le texte
    if (estSurMobile()) {
        bouton.innerHTML = '<i class="fa-solid fa-download fa-bounce"></i> T√©l√©charger le jeu';
        //infoSpan.innerHTML = '<i class="fa-solid fa-times"></i> Jeu non disponible sur mobile';
        infoSpan.innerHTML = '<span class="icon-stack"><i class="fa-solid fa-mobile-alt"></i><i class="fa-solid fa-slash"></i></span> Jeu non disponible sur mobile';
        bouton.style.opacity = '0.3';
        // bouton.style.opacity = '0.6';
        bouton.style.cursor = 'not-allowed';
        bouton.style.pointerEvents = 'none';
    } else {
        // Sinon, on applique le comportement normal (selon disponibilit√© du jeu)
        if (jeuDispo) {
            bouton.innerHTML = '<i class="fa-solid fa-download fa-bounce"></i> T√©l√©charger le jeu';
            infoSpan.textContent = 'v1.0';
            bouton.style.opacity = '1';
            bouton.style.cursor = 'pointer';
            bouton.style.pointerEvents = 'auto';
        } else {
            bouton.innerHTML = '<i class="fa-solid fa-download"></i> T√©l√©charger le jeu';
            infoSpan.innerHTML = '<i class="fa-solid fa-hourglass-half fa-fade"></i> Bient√¥t disponible';
            bouton.style.opacity = '0.3';
            bouton.style.cursor = 'not-allowed';
            bouton.style.pointerEvents = 'none';
        }
    }

    bouton.style.position = 'relative';
    bouton.appendChild(infoSpan);
}

const btnHero = document.querySelector('.hero .btn-primary');
const btnTelecharger = document.querySelector('#telecharger .btn-primary');

// Appliquer les changements de disponibilit√© sur les boutons
appliquerDisponibiliteBouton(btnHero);
appliquerDisponibiliteBouton(btnTelecharger);

// Si la taille de la fen√™tre change, on r√©applique la fonction pour adapter le texte si n√©cessaire
window.addEventListener('resize', () => {
    appliquerDisponibiliteBouton(btnHero);
    appliquerDisponibiliteBouton(btnTelecharger);
});




// === R√âACTION SONORE VISUELLE (Activation manuelle) ===
const audioVis = document.getElementById('audioVisualizer');
function triggerAudioReaction() {
  if (!audioVis) return;
  audioVis.classList.add('active');
  setTimeout(() => audioVis.classList.remove('active'), 800);
}

// Exemple : pulsation visuelle quand on clique sur un bouton
document.querySelectorAll('.btn-primary, .btn-secondary').forEach(btn => {
  btn.addEventListener('click', () => triggerAudioReaction());
});





// === Contr√¥le de la musique (lecture/pause) ===
const musicBtn = document.getElementById('musicBtn');
const musique = document.getElementById('backgroundMusic');

if (musique && musicBtn) {
  musique.volume = 0.4;

  const updateIcon = () => {
    const icon = musicBtn.querySelector('i');
    if (musique.paused) {
      icon.classList.remove('fa-pause');
      icon.classList.add('fa-music');
      icon.style.color = 'var(--debut)';
    } else {
      icon.classList.remove('fa-music');
      icon.classList.add('fa-pause');
      icon.style.color = 'var(--finn)';
    }
  };

  musicBtn.addEventListener('click', () => {
    if (musique.paused) {
      musique.play().catch(err => console.log('Lecture refus√©e :', err));
    } else {
      musique.pause();
    }
    updateIcon();
  });

  // Permet lecture si interaction (scroll/clic/touche) ‚Äî au cas o√π autoplay bloqu√©
  const activerMusique = () => {
    musique.play().then(updateIcon).catch(()=>{});
    ['click','scroll','keydown','mousemove','touchstart']
      .forEach(evt=>window.removeEventListener(evt, activerMusique));
  };
  ['click','scroll','keydown','mousemove','touchstart']
    .forEach(evt=>window.addEventListener(evt, activerMusique, {once:true}));
}




//  <!-- ===== FENETRE MODALE VERROUILLEE ===== -->
const copyLock = document.getElementById('copyLock');
const secretBtn  = document.getElementById('versionAccessBtn');
const modal      = document.getElementById('secretModal');
const input      = document.getElementById('secretInput');
const cancelBtn  = document.getElementById('cancelSecret');
const confirmBtn = document.getElementById('confirmSecret');

const codeSecret  = "N1ghtberryV1.2";
const lienVersions = "versions.html";

// --- Ouverture
secretBtn.addEventListener('click', () => {
  document.body.style.overflow = 'hidden';   // bloque le scroll
  modal.classList.add('active');
  input.value = "";
  setTimeout(() => input.focus(), 200);
});

// --- Fermeture
function closeModal() {
  document.body.style.overflow = '';         // r√©tablit scroll
  modal.classList.remove('active');
}

cancelBtn.addEventListener('click', closeModal);
modal.addEventListener('click', e => { if (e.target === modal) closeModal(); });

// --- Validation
confirmBtn.addEventListener('click', () => {
  if (input.value === codeSecret) {
    closeModal();
    window.open(lienVersions, "_blank");
  } else {
    input.style.borderColor = "red";
    setTimeout(() => (input.style.borderColor = "rgba(102,126,234,0.4)"), 1000);
  }
});

// --- Fermer avec √âchap
document.addEventListener('keydown', (e) => {
  if (e.key === 'Escape') {
    closeModal();
  }

  // --- Valider avec Entr√©e
  if (e.key === 'Enter') {
    confirmBtn.click();
  }
});

// --- Copie du code secret
if (copyLock) {
  copyLock.addEventListener('click', () => {
    // Texte √† copier
    const secret = codeSecret;
    // Copie silencieuse dans le presse-papier
    navigator.clipboard.writeText(secret).catch(err => console.error('Erreur copie‚ÄØ:', err));

    // Animation visuelle discr√®te sur le cadenas (facultative)
    copyLock.style.transition = 'transform 0.3s ease, color 0.3s ease';
    copyLock.style.transform = 'scale(1.2)';
    copyLock.style.color = 'var(--debut)';
    setTimeout(() => {
      copyLock.style.transform = 'scale(1)';
      copyLock.style.color = '';
    }, 400);
  });
}




// BURGER MENU
const burger = document.getElementById("burger");
const navLinks = document.getElementById("nav-links");

burger.addEventListener("click", () => {
    navLinks.classList.toggle("active");
    burger.classList.toggle("active");
});


</script>
<style>
</style>
</html>
