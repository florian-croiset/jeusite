<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Echo - Liens</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="assets/favicon.ico" type="image/x-icon">
    <style>
        html, body {
            overflow: hidden !important;
            height: 100% !important;
        }
        .hero-content {
            z-index: 150!important;
        }
        .hero {
            opacity: 1!important;
        }
        .hero h1 {
            opacity: 1!important;
            transform: none !important;
            animation: fadeInUp 1s ease-out forwards, glow 3s ease-in-out infinite;
        }
        .hero p {
            opacity: 1!important;
            animation: fadeInUp 1s ease-out 0.3s forwards;
            z-index: 151!important;
        }
        .nav-links {
            margin-left: 70px!important;
            gap: 2.2rem;

        }
        /* Container principal pour les liens */
        .links-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            /*background: rgba(10, 10, 10, 0.95);*/
        }

        /* Titre central */
        .central-title {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 101;
        }

        .central-title h1 {
            font-size: clamp(3rem, 10vw, 7rem);
            font-weight: 900;
            background: linear-gradient(135deg, var(--debut), var(--finn));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin: 0;
            letter-spacing: 0.1em;
            text-shadow: 0 0 40px rgba(0, 208, 198, 0.3);
        }

        .central-title .subtitle {
            font-size: clamp(0.9rem, 2vw, 1.2rem);
            color: var(--debut);
            margin-top: 10px;
            opacity: 0.8;
        }

        /* Grille de liens √©parpill√©s */
        .scattered-links {
            position: relative;
            width: 100%;
            height: 100%;
            max-width: 1200px;
            margin: 0 auto;
        }

        /* Carte de lien individuel */
        .link-card {
            position: absolute;
            width: clamp(200px, 25vw, 280px);
            padding: clamp(15px, 2vw, 25px);
            background: rgba(0, 86, 103, 0.1);
            border: 2px solid rgba(0, 208, 198, 0.3);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            text-decoration: none;
            display: block;
        }

        .link-card:hover {
            transform: translateY(-8px) scale(1.05);
            border-color: var(--debut);
            background: rgba(0, 208, 198, 0.15);
            box-shadow: 0 15px 40px rgba(0, 208, 198, 0.4),
                        0 0 60px rgba(135, 53, 185, 0.3);
        }

        /* Hover sp√©cifique pour les cartes centrales (3 et 4) */
        .link-card:nth-child(3):hover,
        .link-card:nth-child(4):hover {
            transform: translateY(-50%) translateY(-8px) scale(1.05);
        }

        .link-card .icon {
            font-size: clamp(1.8rem, 3vw, 2.5rem);
            margin-bottom: 10px;
            display: block;
            background: linear-gradient(135deg, var(--debut), var(--finn));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .link-card .title {
            font-size: clamp(1rem, 1.5vw, 1.3rem);
            font-weight: 600;
            color: var(--text-light, #e0e0e0);
            margin-bottom: 8px;
        }

        .link-card .description {
            font-size: clamp(0.75rem, 1.2vw, 0.9rem);
            color: rgba(224, 224, 224, 0.7);
            line-height: 1.4;
        }

        /* Positions des cartes (disposition √©parpill√©e) */
        .link-card:nth-child(1) {
            top: 13%;
            left: 8%;
        }

        .link-card:nth-child(2) {
            top: 13%;
            right: 8%;
        }

        .link-card:nth-child(3) {
            top: 53%;
            left: 5%;
            transform: translateY(-50%);
        }

        .link-card:nth-child(4) {
            top: 53%;
            right: 5%;
            transform: translateY(-50%);
        }

        .link-card:nth-child(5) {
            bottom: 10%;
            left: 18%;
        }

        .link-card:nth-child(6) {
            bottom: 10%;
            right: 18%;
        }

        /* Particules d'arri√®re-plan */
        .particles-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            pointer-events: none;
        }

        /* Responsive - Tablettes */
        @media (max-width: 1024px) {
            .link-card:nth-child(1) { 
                top: 8%; 
                left: 4%; 
            }
            .link-card:nth-child(2) { 
                top: 8%; 
                right: 4%; 
            }
            .link-card:nth-child(3) { 
                top: 48%; 
                left: 2%;
                transform: translateY(-50%);
            }
            .link-card:nth-child(4) { 
                top: 48%; 
                right: 2%;
                transform: translateY(-50%);
            }
            .link-card:nth-child(5) { 
                bottom: 8%; 
                left: 12%; 
            }
            .link-card:nth-child(6) { 
                bottom: 8%; 
                right: 12%; 
            }
        }

        /* Responsive - Petits √©crans */
        @media (max-width: 900px) {
            .hero h1 {
                font-size: clamp(4rem, 12vw, 8rem) !important;
            }
            
            .hero p {
                font-size: clamp(1rem, 3vw, 1.5rem) !important;
                display: none;
            }

            .link-card {
                width: clamp(180px, 30vw, 240px);
            }

            .link-card:nth-child(1) { 
                top: 5%; 
                left: 2%; 
            }
            .link-card:nth-child(2) { 
                top: 5%; 
                right: 2%; 
            }
            .link-card:nth-child(3) { 
                top: 47%; 
                left: 1%;
            }
            .link-card:nth-child(4) { 
                top: 47%; 
                right: 1%;
            }
            .link-card:nth-child(5) { 
                bottom: 5%; 
                left: 8%; 
            }
            .link-card:nth-child(6) { 
                bottom: 5%; 
                right: 8%; 
            }
        }

        /* Responsive - Mobile */
        @media (max-width: 768px) {
            html, body {
                overflow-y: auto !important;
                overflow-x: hidden !important;
            }

            .hero {
                min-height: 60vh;
                padding-bottom: 40px;
            }

            .hero h1 {
                font-size: 3.5rem !important;
                margin-bottom: 0.5rem !important;
            }

            .hero p {
                font-size: 1.1rem !important;
                margin-bottom: 1rem !important;
            }

            .hero-content {
                transform: scale(1) !important;
                padding: 1rem !important;
            }

            .nav-links {
                margin-left: 0px !important;
                background: none!important;
            }

            .links-container {
                position: relative;
                height: auto;
                min-height: auto;
                margin-top: 0;
                padding: 40px 20px 60px;
                background: transparent;
            }

            .scattered-links {
                position: relative;
                display: grid;
                grid-template-columns: 1fr;
                gap: 20px;
                max-width: 500px;
                margin: 0 auto;
                padding: 0;
            }

            .link-card {
                position: relative !important;
                top: auto !important;
                left: auto !important;
                right: auto !important;
                bottom: auto !important;
                transform: none !important;
                width: 100% !important;
                /*max-width: 100%;*/
            }
    .link-card {
        max-width: 80% !important;
        margin: 0 auto !important;
    }

            .link-card:hover {
                transform: translateY(-5px) scale(1.02) !important;
            }
        }

        /* Responsive - Tr√®s petits mobiles */
        @media (max-width: 480px) {
            .hero h1 {
                font-size: 2.5rem !important;
            }

            .hero p {
                font-size: 0.9rem !important;
            }

            .link-card .title {
                font-size: 1.1rem;
            }

            .link-card .description {
                font-size: 0.85rem;
            }

            .link-card .icon {
                font-size: 2rem;
            }

            .btn-hidden-access {
                display: none;
            }
            .btn-share-access {
                bottom: 1.5rem;
            }
        }

        /* Animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .link-card {
            animation: fadeInUp 0.6s ease-out backwards;
        }

        .link-card:nth-child(1) { animation-delay: 0.1s; }
        .link-card:nth-child(2) { animation-delay: 0.2s; }
        .link-card:nth-child(3) { animation-delay: 0.3s; }
        .link-card:nth-child(4) { animation-delay: 0.4s; }
        .link-card:nth-child(5) { animation-delay: 0.5s; }
        .link-card:nth-child(6) { animation-delay: 0.6s; }
    </style>
</head>
<body>
    <div class="custom-cursor" id="customCursor"></div>
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo-container">
                <div class="logo"><a href="https://florian-croiset.github.io/jeusite/index.html" style="text-decoration:none;">Echo</a></div>
            </div>
            <div class="burger" id="burger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="nav-links">
                <li><a href="index.html">Principal</a></li>
                <li><a href="design.html">Design <small>& M√©dias</small></a></li>
                <li><a href="admin.html">Admin</a></li>
                <li><a href="versions.html">Versions</a></li>
                <li><a href="doc.html">Echo Docs</a></li>
                <li><a href="liens.html">Liens</a></li>
                <li><a href="roadmap.html">Roadmap</a></li>
                <li><a href="test.html">Test</a></li>
                <li><a href="https://ink-bonobo-1b6.notion.site/ebd//2cd1f3f0470c80f4a04fe4ee7194cee0" class="btn-login"><i class="fa-solid fa-paper-plane"></i> Avis</a></li>
                <li><a href="feedback.html" class="btn-login"><i class="fa-solid fa-paper-plane"></i> Feedback</a></li>
                <li><a href="diapo.html" class="btn-login">‚ñ∂ Diaporama</a></li>
            </ul>
        </div>
    </nav>
<section class="hero">
        <video autoplay muted loop playsinline class="background-video">
            <source src="assets/anim.mp4" type="video/mp4">Votre navigateur ne supporte pas la
            lecture vid√©o.
        </video>
        <div class="arriere" id="accueil"></div>
        <div class="particles" aria-hidden="true"></div>
        <div class="hero-content">
            <h1><span></span>Echo</h1>
            <p class="nav-links" style="gap:inherit!important; place-items: center; margin-left: 135px;"><span
                    style="display: inline-block; text-align: center; margin-top: -30px;">par la&nbsp;<a href="https://florian-croiset.github.io/jeusite/"
                        style="font-size: 2rem;">Team Nightberry</a></span></p>   
        </div> 
    </section>
<div class="links-container">
        <!-- Liens √©parpill√©s -->
        <div class="scattered-links">
            <a href="#" id="resourcesTrigger" class="link-card">
    <i class="fas fa-external-link-alt icon"></i>
    <div class="title">Ressources externes</div>
    <div class="description">Acc√©der aux outils et libs</div>
</a>

            <a href="https://github.com/florian-croiset/projetjeu" class="link-card" target="_blank" rel="noopener noreferrer">
                <i class="fas fa-code icon"></i>
                <div class="title">Code source</div>
                <div class="description">Consulter le code source du projet</div>
            </a>

            <a href="https://florian-croiset.github.io/jeusite/index.html#install" class="link-card" target="_blank" rel="noopener noreferrer">
                <i class="fas fa-download icon"></i>
                <div class="title">Jeu</div>
                <div class="description">T√©l√©charger le jeu</div>
            </a>

            <a href="https://florian-croiset.github.io/jeusite/" class="link-card" target="_blank" rel="noopener noreferrer">
                <i class="fas fa-globe icon"></i>
                <div class="title">Site web</div>
                <div class="description">Visiter le site web principal d'Echo</div>
            </a>

            <a href="#" id="rapportsTrigger" class="link-card">
    <i class="fas fa-file-pdf icon"></i>
    <div class="title">Rapport de soutenance</div>
    <div class="description">Acc√©der aux documents techniques</div>
</a>

            <a href="diapo.html" class="link-card" target="_blank" rel="noopener noreferrer">
                <!--<i class="fa-solid fa-presentation-screen"></i>-->
                <svg fill="var(--bleu)" xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="-10 -226 532 503"><path d="M24-216h464c13 0 24 11 24 24s-11 24-24 24H24c-13 0-24-11-24-24s11-24 24-24zm208 352H96c-35 0-64-29-64-64v-192h448V72c0 35-29 64-64 64H280v36l70 48c11 8 13 23 6 34-8 11-23 13-34 6l-66-47-66 47c-11 7-26 5-33-6-8-11-5-26 5-34l70-48v-36z"/></svg>
                <div class="title">Diaporamas</div>
                <div class="description">Voir la pr√©sentation du projet</div>
            </a>
        </div>
    </div>    

    <button id="versionAccessBtn" class="btn-hidden-access" title="Acc√®s version">
        <i class="fa-solid fa-circle-dot"></i>
    </button>
    <div class="floating-buttons">
        <button class="floating-btn btn-scroll-top" id="scrollTopBtn" title="Remonter en haut">
            <svg viewBox="0 0 24 24">
                <path d="M12 19V5M5 12l7-7 7 7" />
            </svg>
        </button>
    </div>

    <div id="secretModal" class="secret-modal">
        <div class="secret-box">
            <h3><span id="copyLock"
                    title="Copier le code secret" style="cursor:pointer;">üîí</span>&nbsp;Acc√®s‚ÄØrestreint</h3>
            <p>Entrez‚ÄØle‚ÄØcode‚ÄØd‚Äôacc√®s‚ÄØ:</p>
            <div class="input-paste-container">
                <input type="password" id="secretInput" placeholder="Code..." />
                <button id="clearBtn" class="btn-paste" title="Effacer le code"><i
                        class="fa-solid fa-xmark"></i></button>
                <button id="pasteBtn" class="btn-paste" title="Coller le code"><i
                        class="fa-solid fa-paste"></i></button>
            </div>
            <div class="secret-actions">
                <button id="cancelSecret" class="btn-cancel">Annuler</button>
                <button id="confirmSecret" class="btn-confirm">Valider</button>
            </div>
        </div>
    </div>

    <div class="floating-buttons">
        <button class="floating-btn btn-share-access" id="shareBtn"  data-allow-share="true" title="Partager le site"><!--data-allow...-->
            <i class="fa-solid fa-share-nodes"></i>
        </button>
    </div>

<div id="shareModal" class="secret-modal">
  <div class="secret-box share-box">
    <h3><i class="fa-solid fa-share-nodes"></i> Partager Echo</h3>
    
    <div class="qr-container">
      <img id="qrCodeImg" src="" alt="QR Code du site">
      <p style="font-size: 0.8rem; color: #b0b0b0; margin-top: 10px;">Scannez pour ouvrir sur mobile</p>
    </div>

    <div class="link-share-area">
      <input type="text" id="shareLinkInput" readonly>
      <button id="copyLinkBtn" class="btn-confirm">Copier</button>
    </div>

    <div class="secret-actions">
      <button id="closeShare" class="btn-cancel">Fermer</button>
    </div>
  </div>
</div>


<div id="resourcesModal" class="secret-modal">
    <div class="secret-box resources-box">
        <div class="secret-actions">
    
</div>
        <h3><i class="fas fa-tools"></i> Ressources externes</h3>
        <p style="margin-bottom: 15px; opacity: 0.7;">Liste des ressources utilis√©es :</p>
        
        <div id="resourcesList" class="scrolling-list"></div>

        <div class="secret-actions">
            <button id="downloadTxt" class="btn-confirm" style="background: rgba(0, 208, 198, 0.2); border: 1px solid var(--debut);">
        <i class="fa-solid fa-file-export"></i> Exporter .txt
    </button>
    <button id="closeResources" class="btn-cancel">Fermer</button>
        </div>
    </div>
</div>


<div id="reportsModal" class="secret-modal">
    <div class="secret-box reports-box">
        <h3><i class="fas fa-folder-open"></i> Documents</h3>
        <p style="margin-bottom: 20px; opacity: 0.7;">S√©lectionnez le document √† consulter :</p>
        
        <div class="reports-grid">
            <a href="docs/RapportTechnique_L2.1_G2_TeamNightberry projet_Echo.pdf" target="_blank" class="report-mini-card">
                <i class="fas fa-microchip"></i>
                <span>Rapport Technique</span>
            </a>
            <a href="docs/PlanTechnique_L2.1_G2_TeamNightberry projet_Echo.pdf" target="_blank" class="report-mini-card">
                <i class="fas fa-project-diagram"></i>
                <span>Plan Technique<br>(Oral)</span>
            </a>
            <a href="docs/CDSF_L2.1_G2_TeamNightberry projet_Echo.pdf" target="_blank" class="report-mini-card">
                <i class="fas fa-book-open"></i>
                <span>CDSF<br>(M√©thodologie)</span>
            </a>
        </div>

        <div class="secret-actions">
            <button id="closeReports" class="btn-cancel">Fermer</button>
        </div>
    </div>
</div>
<style>/* Style sp√©cifique pour la modale Rapports */
.reports-box {
    max-width: 500px !important; /* Un peu plus large pour les 3 choix */
    text-align: center;
}

.reports-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 15px;
    margin-bottom: 25px;
}

.report-mini-card {
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(0, 208, 198, 0.2);
    border-radius: 12px;
    padding: 20px 10px;
    text-decoration: none;
    color: var(--text-light, #e0e0e0);
    transition: all 0.3s ease;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
}

.report-mini-card i {
    font-size: 1.8rem;
    background: linear-gradient(135deg, var(--debut, #00d0c6), var(--finn, #8735b9));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    transition: transform 0.3s ease;
}

.report-mini-card span {
    font-size: 0.9rem;
    font-weight: 600;
}

/* Effets au survol */
.report-mini-card:hover {
    background: rgba(0, 208, 198, 0.1);
    border-color: var(--debut, #00d0c6);
    transform: translateY(-5px);
    box-shadow: 0 5px 15px rgba(0, 208, 198, 0.2);
}

.report-mini-card:hover i {
    transform: scale(1.2);
}

/* Responsive pour mobile : les mettre les uns sous les autres */
@media (max-width: 600px) {
    .reports-grid {
        grid-template-columns: 1fr;
    }
}


/* Container de la modale */
.resources-box {
    width: 90%;
    max-width: 450px;
    max-height: 80vh; /* Limite la hauteur par rapport √† l'√©cran */
    display: flex;
    flex-direction: column;
}

/* Zone de liste avec scroll */
.scrolling-list {
    max-height: 300px; /* Hauteur max de la liste avant scroll */
    overflow-y: auto;  /* Scroll vertical activ√© */
    margin-bottom: 20px;
    padding-right: 5px; /* Espace pour la scrollbar */
    text-align: left;
}

/* Style de chaque ligne (Lien) */
.resource-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 15px;
    margin-bottom: 8px;
    background: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 8px;
    color: var(--text-light, #e0e0e0);
    text-decoration: none;
    transition: all 0.2s ease;
}

.resource-row:hover {
    background: rgba(0, 208, 198, 0.15);
    border-color: var(--debut, #00d0c6);
    padding-left: 20px; /* Petite animation de glissement */
}

.resource-row i {
    font-size: 0.8rem;
    opacity: 0.5;
    transition: opacity 0.2s;
}

.resource-row:hover i {
    opacity: 1;
    color: var(--debut, #00d0c6);
}

/* Custom Scrollbar (Style Webkit - Chrome/Safari/Edge) */
.scrolling-list::-webkit-scrollbar {
    width: 6px;
}

.scrolling-list::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.1);
    border-radius: 3px;
}

.scrolling-list::-webkit-scrollbar-thumb {
    background: rgba(0, 208, 198, 0.3);
    border-radius: 3px;
}

.scrolling-list::-webkit-scrollbar-thumb:hover {
    background: rgba(0, 208, 198, 0.6);
}


</style>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const rapportsTrigger = document.getElementById('rapportsTrigger');
        const reportsModal = document.getElementById('reportsModal');
        const closeReportsBtn = document.getElementById('closeReports');

        // Ouvrir la modale au clic sur la carte
        if (rapportsTrigger) {
            rapportsTrigger.addEventListener('click', (e) => {
                e.preventDefault(); // Emp√™che le lien vide de recharger la page
                reportsModal.classList.add('active'); // Utilise ta classe .active existante (ou display: flex)
                reportsModal.style.display = 'flex'; // Force l'affichage si .active ne g√®re que l'opacit√©
            });
        }

        // Fermer la modale
        function closeModal() {
            reportsModal.classList.remove('active');
            reportsModal.style.display = 'none';
        }

        if (closeReportsBtn) {
            closeReportsBtn.addEventListener('click', closeModal);
        }

        // Fermer en cliquant en dehors de la bo√Æte
        reportsModal.addEventListener('click', (e) => {
            if (e.target === reportsModal) {
                closeModal();
            }
        });
    });

const externalLinks = [
        { name: "Github", url: "https://github.com" },
        { name: "FontAwesome (Ic√¥nes)", url: "https://fontawesome.com" },
        { name: "Google Fonts", url: "https://fonts.google.com" },
        { name: "GitHub Repo", url: "https://github.com/florian-croiset/projetjeu" },
        { name: "Discord API", url: "https://discord.com/developers/docs/intro" },
        { name: "MDN Web Docs", url: "https://developer.mozilla.org" },
        { name: "Supabase", url: "https://supabase.com/" },
        { name: "Pixel Art", url: "https://graphicsgale.com" },
        { name: "Canva", url: "https://www.canva.com" },
        { name: "Bases de Pygame (vid√©o)", url: "https://www.youtube.com/watch?v=WxEmflz009U" },
        { name: "Pathfinding", url: "https://fr.wikipedia.org/wiki/Algorithme_A%2A" },
        { name: "Cr√©er un MetroidVania", url: "https://www.youtube.com/watch?v=Fh5O6G1vhg4" },
        { name: "[LIB] Pygame", url: "https://www.pygame.org/" },
        { name: "[LIB] Threading", url: "https://docs.python.org/fr/3.15/library/threading.html" },
        { name: "Bases du game design (vid√©o)", url: "https://www.youtube.com/watch?v=ivh1xAjBfQ0" },
        { name: "Guide de level cr√©ation (vid√©o)", url: "https://www.youtube.com/watch?v=N6xqCwblyiw" },
        //{ name: "", url: "" },
    ];

    document.addEventListener('DOMContentLoaded', () => {
    // --- LOGIQUE ---
    const resTrigger = document.getElementById('resourcesTrigger');
    const resModal = document.getElementById('resourcesModal');
    const resListContainer = document.getElementById('resourcesList');
    const closeResBtn = document.getElementById('closeResources');

    // 1. G√©n√©rer la liste HTML automatiquement
    if (resListContainer) {
        resListContainer.innerHTML = externalLinks.map(link => `
            <a href="${link.url}" target="_blank" class="resource-row">
                <span class="res-name">${link.name}</span>
                <i class="fas fa-chevron-right"></i>
            </a>
        `).join('');
    }

    // 2. Gestion ouverture/fermeture
    if (resTrigger) {
        resTrigger.addEventListener('click', (e) => {
            e.preventDefault();
            resModal.style.display = 'flex';
            // Petit d√©lai pour l'animation d'opacit√© si g√©r√©e par CSS
            setTimeout(() => resModal.classList.add('active'), 10);
        });
    }

    // Fonction de fermeture commune
    const closeResModal = () => {
        resModal.classList.remove('active');
        setTimeout(() => resModal.style.display = 'none', 300);
    };

    if (closeResBtn) closeResBtn.addEventListener('click', closeResModal);
    
    // Fermer en cliquant √† c√¥t√©
    if (resModal) {
        resModal.addEventListener('click', (e) => {
            if (e.target === resModal) closeResModal();
        });
    }
});

document.getElementById('downloadTxt').addEventListener('click', () => {
    // 1. D√©finition du contexte (Infos en haut du fichier)
    const dateExport = new Date().toLocaleDateString('fr-FR');
    let contenu = `==========================================\n`;
    contenu += `   PROJET ECHO - RESSOURCES EXTERNES\n`;
    contenu += `   G√©n√©r√© le : ${dateExport}\n`;
    contenu += `   √âquipe : Team Nightberry\n`;
    contenu += `==========================================\n\n`;
    contenu += `DOCUMENTATION ET LIENS UTILES :\n\n`;

    // 2. R√©cup√©ration automatique des liens depuis ton Array 'externalLinks'
    // Note : Assure-toi que la variable externalLinks est accessible ici
    externalLinks.forEach((item, index) => {
        contenu += `${index + 1}. ${item.name.toUpperCase()}\n`;
        contenu += `   URL : ${item.url}\n`;
        contenu += `------------------------------------------\n`;
    });

    contenu += `\nFin du document.`;

    // 3. Cr√©ation du fichier (Blob)
    const blob = new Blob([contenu], { type: 'text/plain' });
    const urlFichier = window.URL.createObjectURL(blob);
    
    // 4. D√©clenchement du t√©l√©chargement
    const link = document.createElement('a');
    link.href = urlFichier;
    link.download = `Echo_Ressources-Externes_${dateExport.replace(/\//g, '-')}.txt`;
    link.click();

    // Nettoyage de la m√©moire
    window.URL.revokeObjectURL(urlFichier);
});
</script>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script type="module" src="js/config/supabase.js"></script>
<script type="module" src="js/database.js"></script>
<script src="js/ip-detection.js"></script>
<script type="module" src="js/discord-webhook.js"></script>
<script src="js/discord-tracker.js"></script>
<script type="module" src="js/liens.js"></script>
<script type="module" src="js/remote-refresh.js"></script>
    <script>
        // G√©n√©ration de particules anim√©es
        function createParticles() {
            const particlesContainer = document.querySelector('.particles-bg');
            if (!particlesContainer) return;
            
            for (let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.style.position = 'absolute';
                particle.style.width = '2px';
                particle.style.height = '2px';
                particle.style.background = 'var(--debut)';
                particle.style.borderRadius = '50%';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.top = Math.random() * 100 + '%';
                particle.style.opacity = Math.random() * 0.5;
                particle.style.animation = `float ${5 + Math.random() * 10}s linear infinite`;
                particle.style.animationDelay = Math.random() * 5 + 's';
                particlesContainer.appendChild(particle);
            }
        }

        createParticles();
    </script>
</body>
</html>